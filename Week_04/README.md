学习笔记

# 动态规划：
## 算法要点
 - 最优子结构（可以和状态数组一起考虑）
 - 状态数组（难点！）
 - 状态转移方程
## 难点：状态数组的构建：
### 直接根据题目要求构建
- 509 斐波那契数列问题/70爬楼梯问题：直接构建
- 62 不同路径/64最小路径和：m*n的网格作为二维状态数组，dp[i][j]表示到i，j点的不同走法或最小路径和
- 120 三角形最小路径和: 二维数组（三角形区域元素有用）
- 53 最大自序和：一维数组，dp[i]表示第i个元素包含的最大和
- 32 最长有效括号：dp[i] 以s[i]结尾最长子串长度
### 需要另外构建的
- 1143 最长公共子序列：将两个字符串分别作为行列，构造一个二维矩阵，二维矩阵的元素dp[i][j]表示s1[:i+1]和s2[:j+1]的最长公共子序列
- 322 零钱兑换：dp[i]和dp[i-coins[j]]都要关系，状态转移方程定义时多一个循环。等效于爬楼梯问题的高级形式，比如可以爬1，2，5阶楼梯
- 198 打家劫舍：dp[i][j]前i个房子可以偷到的最大值,第二维可取0/1,表示没偷或者偷
- 221 最大正方形 dp[i][j]表示以 (i, j) 为右下角，且只包含 11 的正方形的边长最大值
- 72 编辑距离问题：dp[i][j] 表示 A 的前 i 个字母和 B 的前 j 个字母之间的编辑距离
- 647 回文子串构建二维dp，dp[i][j]==1,表示s[i:j+1]是回文子串
- 91 解码方法：dp[i]表示第i个字符前的解码方法
### 其他
- 状态数组的优化问题：二维的是不是可以用一维的？一维的是不是可以优化为确定的几个数？
- 有些状态数组初始可以直接从原数组复制，如120三角形最小路径和
- 状态数组计算从哪里开始遍历，取决于哪里可以先初始化：不同路径问题可以从左上角开始，回文子串需要从右下角开始
- 对于不好构建形状的状态矩阵，如三角最小路径和，状态矩阵可以用dict
# 经典代码
- 对于需要填写第一行和第一列状态数组的DP问题，如最小路径和、最短路径、编辑距离等问题，不需要循环三次，可以如下写代码（最小路径和）：
```
class Solution:
    def minPathSum(self, grid: List[List[int]]) -> int:
        if not grid: return 0
        m,n=len(grid),len(grid[0])    
        dp=grid[0][:]
        for i in range(m):
            for j in range(n):
                if i==j==0: continue
                elif i==0: dp[j]+=dp[j-1]
                elif j==0: dp[j]=dp[j]+grid[i][j] 
                else: dp[j]=min(dp[j-1],dp[j])+grid[i][j]   
        return dp[-1]
```
- 记忆化递归，定义递归函数前只需要增加下面两句：
```
import functools
@functools.lru_cache(None)
```
- 二维数组定义
`dp=[[1]*n] + [[1]+[0] * (n-1) for _ in range(m-1)]`
# 题目要点

# 题目记录
| 周次    | 类型   | 题目编号 | 题目               | 难度 | 分类 | 备注          | 第1次       |        | 第2次      |        | 第3次 |       | 方法                            |
|-------|------|------|------------------|----|----|-------------|-----------|--------|----------|--------|-----|-------|-------------------------------|
| KW4   | 周作业  | 64   | 最小路径和            | 中等 | DP |             | 2020/8/8  | KW32/6 |          | KW0/6  |     | KW0/6 | DP，可以用一维状态数组                  |
| KW4   | 周作业  | 91   | 解码方法             | 中等 | DP |             | 2020/8/8  | KW32/6 |          | KW0/6  |     | KW0/6 | DP，逻辑复杂；优化代码后逻辑不好理解           |
| KW4   | 周作业  | 221  | 最大正方形            | 中等 | DP |             | 2020/8/8  | KW32/6 |          | KW0/6  |     | KW0/6 | DP                            |
| KW4   | 周作业  | 621  | 任务调度器            | 中等 | DP |             | 2020/8/9  | KW33/7 |          | KW0/6  |     | KW0/6 | DP？                           |
| KW4   | 周作业  | 647  | 回文子串             | 中等 | DP |             | 2020/8/9  | KW33/7 |          | KW0/6  |     | KW0/6 | DP，注意状态数组构建方式                 |
| KW4   | 周作业  | 32   | 最长有效括号           | 困难 | DP |             | 2020/8/9  | KW33/7 |          | KW0/6  |     | KW0/6 | DP                            |
| KW4   | 周作业  | 72   | 编辑距离             | 困难 | DP |             | 2020/8/9  | KW33/7 |          | KW0/6  |     | KW0/6 | DP                            |
| KW4   | 周作业  | 363  | 矩形区域不超过 K 的最大数值和 | 困难 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 周作业  | 403  | 青蛙过河             | 困难 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 周作业  | 410  | 分割数组的最大值         | 困难 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 周作业  | 552  | 学生出勤记录 II        | 困难 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 周作业  | 76   | 最小覆盖子串           | 困难 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 周作业  | 312  | 戳气球              | 困难 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 62   | 不同路径             | 中等 | DP |             | 2020/8/5  | KW32/3 |          | KW0/6  |     | KW0/6 | 1、排列组合；2、动态规划                 |
| KW4   | 实战题目 | 63   | 不同路径 II          | 中等 | DP |             | 2020/8/6  | KW32/4 |          | KW0/6  |     | KW0/6 | 动态规划                          |
| KW4   | 实战题目 | 1143 | 最长公共子序列          | 中等 | DP |             | 2020/8/7  | KW32/5 |          | KW0/6  |     | KW0/6 | 1、记忆化递归；2、DP（二维数组）            |
| KW4   | 实战题目 | 70   | 爬楼梯              | 简单 | DP |             | 2020/7/19 | KW30/7 | 2020/8/7 | KW32/5 |     | KW0/6 | "递归法，找重复性，不要人肉递归，直接递归会超时，需要缓存 |
| 动态规划" |
| KW4   | 实战题目 | 120  | 三角形最小路径和         | 中等 | DP |             | 2020/8/8  | KW32/6 |          | KW0/6  |     | KW0/6 | 1、记忆化递归；2、DP（二维数组）；3、DP（一维数组） |
| KW4   | 实战题目 | 53   | 最大子序和            | 简单 | DP |             | 2020/8/8  | KW32/6 |          | KW0/6  |     | KW0/6 | DP                            |
| KW4   | 实战题目 | 152  | 乘积最大子数组          | 中等 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 198  | 打家劫舍             | 简单 | DP |             | 2020/8/9  | KW33/7 |          | KW0/6  |     | KW0/6 | DP，可以不断优化状态数组                 |
| KW4   | 实战题目 | 213  | 打家劫舍 II          | 中等 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 121  | 买卖股票的最佳时机        | 简单 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 122  | 买卖股票的最佳时机 II     | 简单 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 123  | 买卖股票的最佳时机 III    | 困难 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 309  | 最佳买卖股票时机含冷冻期     | 中等 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 188  | 买卖股票的最佳时机 IV     | 困难 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 714  | 买卖股票的最佳时机含手续费    | 中等 | DP |             |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 279  | 完全平方数            | 中等 | DP | 高级DP实战题目    |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 72   | 编辑距离             | 困难 | DP | 重点，高级DP实战题目 |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 55   | 跳跃游戏             | 中等 | DP | 高级DP实战题目    |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 45   | 跳跃游戏 II          | 困难 | DP | 高级DP实战题目    |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 980  | 不同路径 III         | 困难 | DP | 高级DP实战题目    |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
| KW4   | 实战题目 | 322  | 零钱兑换             | 中等 | DP | 高级DP实战题目    | 2020/8/9  | KW33/7 |          | KW0/6  |     | KW0/6 | 1、DP；2、记忆化递归；3、BFS；4、DFS\+贪心  |
| KW4   | 实战题目 | 518  | 零钱兑换 II          | 中等 | DP | 高级DP实战题目    |           | KW0/6  |          | KW0/6  |     | KW0/6 |                               |
